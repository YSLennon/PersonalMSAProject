server:
  port: 8080
spring:
  application:
    name: api-gateway
  profiles:
    active: ${SPRING_PROFILES_ACTIVE:dev}
  cloud:
    gateway:
      routes:
        - id: auth-service   # âœ… í•´ë‹¹ ë¼ìš°íŠ¸ì˜ ID (ê³ ìœ í•œ ì‹ë³„ì)
          uri: lb://auth-service  # âœ… auth-serviceë¡œ Load Balancerë¥¼ ì´ìš©í•´ ìš”ì²­ ì „ë‹¬
          predicates: # âœ… ìš”ì²­ì„ ì „ë‹¬í•  ì¡°ê±´ (í”„ë ˆë””ì¼€ì´íŠ¸)
            - Path=/auth/**  # ğŸ‘‰ /auth/** ë¡œ ì‹œì‘í•˜ëŠ” ìš”ì²­ì„ auth-serviceë¡œ ë³´ëƒ„
          filters:
            - StripPrefix=1  # ğŸ‘‰ ìš”ì²­ ê²½ë¡œì—ì„œ ì²« ë²ˆì§¸ ê²½ë¡œ(auth)ë¥¼ ì œê±°í•˜ê³  ë³´ëƒ„

        - id: board-service
          uri: lb://board-service
          predicates:
            - Path=/board/**  # ğŸ‘‰ /board/** ìš”ì²­ì„ board-serviceë¡œ ë³´ëƒ„

        - id: shop-service
          uri: lb://shop-service
          predicates:
            - Path=/shop/**  # ğŸ‘‰ /shop/** ìš”ì²­ì„ shop-serviceë¡œ ë³´ëƒ„
client:
  url: http://localhost:5173
redis:
  host: ${REDIS_HOST:localhost}
  port: 6379

---

spring:
  config:
    activate:
      on-profile: dev
  security:
    cookie:
      secure: false
  jwt:
    secret: asjkfajsklfhaskldfhklasdklqwhkleqwklej
  jpa:
    hibernate:
      ddl-auto: update
      show-sql: true
      open-in-view: true
  datasource:
    driver-class-name: org.h2.Driver
    url: jdbc:h2:mem:testdb
    username: sa
    password:
    initialize: true
  devtools:
    restart:
      enabled: true
  h2:
    console:
      enable: true
      path: /h2-console

---

spring:
  config:
    activate:
      on-profile: prod
  security:
    cookie:
      secure: true
  jwt:
    secret: ${JWT_SECRET_KEY}
  jpa:
    hibernate:
      ddl-auto: validate
      show-sql: false
      open-in-view: false
  datasource:
    driver-class-name: ${DB_DRVIER_NAME}
    url: ${DB_URL}
    username: ${DB_USERNAME}
    password: ${DB_PASSWORD}